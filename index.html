<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>KingDev Status Viewer</title>
  <style>
    body { background:#121212; color:#fff; font-family:monospace; text-align:center; }
    button { background:#00c853; border:none; padding:10px 20px; border-radius:6px; cursor:pointer; }
    pre { background:#1e1e1e; padding:10px; border-radius:8px; text-align:left; white-space:pre-wrap; }
  </style>
</head>
<body>
  <h2>🔍 Trạng thái máy chủ KingDev</h2>
  <button id="refresh">Làm mới</button>
  <h3>📦 Raw JSON</h3>
  <pre id="output">Đang tải...</pre>

  <script>
    const apiURL = "https://cloud.kingdev.site/?api=status";
    const proxy = "https://api.codetabs.com/v1/proxy?quest="; // ✅ Proxy ổn nhất trên GitHub Pages

    async function loadData() {
      const output = document.getElementById("output");
      output.textContent = "⏳ Đang tải...";
      try {
        const response = await fetch(proxy + encodeURIComponent(apiURL));
        if (!response.ok) throw new Error("HTTP " + response.status);
        const data = await response.json();
        output.textContent = JSON.stringify(data, null, 2);
      } catch (err) {
        output.textContent = `❌ Lỗi: ${err.message}`;
      }
    }

    document.getElementById("refresh").addEventListener("click", loadData);
    loadData();
  </script>
</body>
</html>
